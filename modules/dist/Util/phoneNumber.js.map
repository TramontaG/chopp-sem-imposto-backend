{"version":3,"file":"phoneNumber.js","names":["formatPhoneNumber","value","digits","replace","startsWith","slice","length","exports","s","userPhoneToBrNational","phone","d","jidToBrNational","jid","beforeAt","split","phoneToJid","national"],"sources":["../../src/Util/phoneNumber.ts"],"sourcesContent":["export const formatPhoneNumber = (value: string) => {\n  // Remove all non-digits\n  let digits = value.replace(/\\D/g, \"\");\n  // Remove initial 55 if it has\n  if (digits.startsWith(\"55\")) {\n    digits = digits.slice(2);\n  }\n\n  // Apply mask (00)00000-0000\n  if (digits.length === 0) {\n    return \"\";\n  } else if (digits.length <= 2) {\n    return `(${digits}`;\n  } else if (digits.length <= 7) {\n    return `(${digits.slice(0, 2)})${digits.slice(2)}`;\n  } else {\n    return `(${digits.slice(0, 2)})${digits.slice(2, 7)}-${digits.slice(\n      7,\n      11\n    )}`;\n  }\n};\n\nexport const digits = (s: string) => s.replace(/\\D/g, \"\");\n\nexport const userPhoneToBrNational = (phone: string): string => {\n  const d = digits(phone);\n  // guarda 10 ou 11 últimos dígitos (caso tenha vindo com +55 ou algo extra)\n  return d.length > 11 ? d.slice(d.length - 11) : d;\n};\n\nexport const jidToBrNational = (jid: string): string | null => {\n  const beforeAt = jid.split(\"@\")[0];\n  let d = digits(beforeAt);\n  // remove DDI \"55\" se presente\n  if (d.startsWith(\"55\")) d = d.slice(2);\n  // Aceita 10 (fixo) ou 11 (celular) dígitos para BR\n  if (d.length === 10 || d.length === 11) return d;\n  return null; // fora do padrão esperado\n};\n\nexport const phoneToJid = (phone: string): string => {\n  // Remove tudo que não for dígito\n  const digits = phone.replace(/\\D/g, \"\");\n\n  // Garante que só fiquem os 10 ou 11 últimos dígitos (DDD + número)\n  const national = digits.slice(-11);\n\n  // Retorna no formato de JID\n  return `55${national}@s.whatsapp.net`;\n};\n"],"mappings":";;;;;;AAAO,MAAMA,iBAAiB,GAAIC,KAAa,IAAK;EAClD;EACA,IAAIC,MAAM,GAAGD,KAAK,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACrC;EACA,IAAID,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC,EAAE;IAC3BF,MAAM,GAAGA,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;EAC1B;;EAEA;EACA,IAAIH,MAAM,CAACI,MAAM,KAAK,CAAC,EAAE;IACvB,OAAO,EAAE;EACX,CAAC,MAAM,IAAIJ,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE;IAC7B,OAAO,IAAIJ,MAAM,EAAE;EACrB,CAAC,MAAM,IAAIA,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE;IAC7B,OAAO,IAAIJ,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAIH,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,EAAE;EACpD,CAAC,MAAM;IACL,OAAO,IAAIH,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAIH,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAIH,MAAM,CAACG,KAAK,CACjE,CAAC,EACD,EACF,CAAC,EAAE;EACL;AACF,CAAC;AAACE,OAAA,CAAAP,iBAAA,GAAAA,iBAAA;AAEK,MAAME,MAAM,GAAIM,CAAS,IAAKA,CAAC,CAACL,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AAACI,OAAA,CAAAL,MAAA,GAAAA,MAAA;AAEnD,MAAMO,qBAAqB,GAAIC,KAAa,IAAa;EAC9D,MAAMC,CAAC,GAAGT,MAAM,CAACQ,KAAK,CAAC;EACvB;EACA,OAAOC,CAAC,CAACL,MAAM,GAAG,EAAE,GAAGK,CAAC,CAACN,KAAK,CAACM,CAAC,CAACL,MAAM,GAAG,EAAE,CAAC,GAAGK,CAAC;AACnD,CAAC;AAACJ,OAAA,CAAAE,qBAAA,GAAAA,qBAAA;AAEK,MAAMG,eAAe,GAAIC,GAAW,IAAoB;EAC7D,MAAMC,QAAQ,GAAGD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAClC,IAAIJ,CAAC,GAAGT,MAAM,CAACY,QAAQ,CAAC;EACxB;EACA,IAAIH,CAAC,CAACP,UAAU,CAAC,IAAI,CAAC,EAAEO,CAAC,GAAGA,CAAC,CAACN,KAAK,CAAC,CAAC,CAAC;EACtC;EACA,IAAIM,CAAC,CAACL,MAAM,KAAK,EAAE,IAAIK,CAAC,CAACL,MAAM,KAAK,EAAE,EAAE,OAAOK,CAAC;EAChD,OAAO,IAAI,CAAC,CAAC;AACf,CAAC;AAACJ,OAAA,CAAAK,eAAA,GAAAA,eAAA;AAEK,MAAMI,UAAU,GAAIN,KAAa,IAAa;EACnD;EACA,MAAMR,MAAM,GAAGQ,KAAK,CAACP,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;;EAEvC;EACA,MAAMc,QAAQ,GAAGf,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC;;EAElC;EACA,OAAO,KAAKY,QAAQ,iBAAiB;AACvC,CAAC;AAACV,OAAA,CAAAS,UAAA,GAAAA,UAAA","ignoreList":[]}