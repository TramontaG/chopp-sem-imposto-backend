{"version":3,"file":"zero-width.js","names":["ZERO_WIDTHS","randomZeroWidth","min","max","alphabet","Error","len","randomIntInclusive","out","i","idx","length","range","buf","Uint32Array","crypto","getRandomValues"],"sources":["../../src/Util/zero-width.ts"],"sourcesContent":["// Zero-width alphabet (comuns e seguros para uso em strings)\nconst ZERO_WIDTHS = [\n  \"\\u200B\", // Zero Width Space\n  \"\\u200C\", // Zero Width Non-Joiner\n  \"\\u200D\", // Zero Width Joiner\n  \"\\u2060\", // Word Joiner\n  \"\\uFEFF\", // Zero Width No-Break Space\n] as const;\n\n/**\n * Gera uma string composta apenas por caracteres zero-width,\n * com comprimento aleatório entre min e max (inclusive).\n */\nexport function randomZeroWidth({\n  min = 1,\n  max = 8,\n  alphabet = ZERO_WIDTHS,\n}: {\n  min?: number;\n  max?: number;\n  alphabet?: readonly string[];\n} = {}): string {\n  if (min < 0 || max < 0 || max < min) {\n    throw new Error(\"Parâmetros inválidos: garanta 0 <= min <= max.\");\n  }\n\n  // Comprimento aleatório [min, max]\n  const len = min === max ? min : randomIntInclusive(min, max);\n\n  // Constrói a string com caracteres zero-width aleatórios\n  let out = \"\";\n  for (let i = 0; i < len; i++) {\n    const idx = randomIntInclusive(0, alphabet.length - 1);\n    out += alphabet[idx];\n  }\n  return out;\n}\n\n/** Retorna inteiro aleatório no intervalo [min, max] usando crypto */\nfunction randomIntInclusive(min: number, max: number): number {\n  const range = max - min + 1;\n  // Gera um uint32 e reduz uniformemente ao intervalo\n  const buf = new Uint32Array(1);\n  crypto.getRandomValues(buf);\n  return min + (buf[0] % range);\n}\n"],"mappings":";;;;;;AAAA;AACA,MAAMA,WAAW,GAAG,CAClB,QAAQ;AAAE;AACV,QAAQ;AAAE;AACV,QAAQ;AAAE;AACV,QAAQ;AAAE;AACV,QAAQ,CAAE;AAAA,CACF;;AAEV;AACA;AACA;AACA;AACO,SAASC,eAAeA,CAAC;EAC9BC,GAAG,GAAG,CAAC;EACPC,GAAG,GAAG,CAAC;EACPC,QAAQ,GAAGJ;AAKb,CAAC,GAAG,CAAC,CAAC,EAAU;EACd,IAAIE,GAAG,GAAG,CAAC,IAAIC,GAAG,GAAG,CAAC,IAAIA,GAAG,GAAGD,GAAG,EAAE;IACnC,MAAM,IAAIG,KAAK,CAAC,gDAAgD,CAAC;EACnE;;EAEA;EACA,MAAMC,GAAG,GAAGJ,GAAG,KAAKC,GAAG,GAAGD,GAAG,GAAGK,kBAAkB,CAACL,GAAG,EAAEC,GAAG,CAAC;;EAE5D;EACA,IAAIK,GAAG,GAAG,EAAE;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,GAAG,EAAEG,CAAC,EAAE,EAAE;IAC5B,MAAMC,GAAG,GAAGH,kBAAkB,CAAC,CAAC,EAAEH,QAAQ,CAACO,MAAM,GAAG,CAAC,CAAC;IACtDH,GAAG,IAAIJ,QAAQ,CAACM,GAAG,CAAC;EACtB;EACA,OAAOF,GAAG;AACZ;;AAEA;AACA,SAASD,kBAAkBA,CAACL,GAAW,EAAEC,GAAW,EAAU;EAC5D,MAAMS,KAAK,GAAGT,GAAG,GAAGD,GAAG,GAAG,CAAC;EAC3B;EACA,MAAMW,GAAG,GAAG,IAAIC,WAAW,CAAC,CAAC,CAAC;EAC9BC,MAAM,CAACC,eAAe,CAACH,GAAG,CAAC;EAC3B,OAAOX,GAAG,GAAIW,GAAG,CAAC,CAAC,CAAC,GAAGD,KAAM;AAC/B","ignoreList":[]}